{"version":3,"sources":["./src/app/order/order.module.ts","./src/app/order/order-routing.module.ts","./src/app/order/payment-failure/payment-failure.component.ts","./src/app/order/payment-failure/payment-failure.component.html","./src/app/order/payment-success/payment-success.component.ts","./src/app/order/payment-success/payment-success.component.html","./src/app/order/order.component.ts","./src/app/order/order.component.html"],"names":[],"mappings":"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","file":"order-order-module.js","sourcesContent":["import { PaymentSuccessComponent } from './payment-success/payment-success.component';\nimport { PaymentFailureComponent } from './payment-failure/payment-failure.component';\nimport { SharedModule } from './../shared-module/shared-module.module';\nimport { MaterialModule } from './../../modules/material/material.module';\nimport { OrderComponent } from './order.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { OrderRoutingModule } from './order-routing.module';\nimport { HttpClient } from '@angular/common/http';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { HttpLoaderFactory } from '../app.module';\n\n\n@NgModule({\n  declarations: [\n    OrderComponent,\n    PaymentFailureComponent,\n    PaymentSuccessComponent\n  ],\n  imports: [\n    CommonModule,\n    OrderRoutingModule,\n    MaterialModule,\n    SharedModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: HttpLoaderFactory,\n        deps: [HttpClient]\n      }\n    })\n  ]\n})\nexport class OrderModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { OrderComponent } from './order.component';\nimport { PaymentFailureComponent } from './payment-failure/payment-failure.component';\nimport { PaymentSuccessComponent } from './payment-success/payment-success.component';\n\nconst routes: Routes = [\n  { path: '', component: OrderComponent },\n  { path: 'success', component: PaymentSuccessComponent },\n  { path: 'failure', component: PaymentFailureComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class OrderRoutingModule { }\n","import { Component, ElementRef, OnInit, AfterViewInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-payment-failure',\r\n  templateUrl: './payment-failure.component.html',\r\n  styleUrls: ['./payment-failure.component.scss']\r\n})\r\nexport class PaymentFailureComponent implements OnInit, AfterViewInit {\r\n  darkTheme!: boolean;\r\n  curentTheme!: string;\r\n  constructor(private elementRef: ElementRef) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  receive(event: any) {\r\n    this.curentTheme = event\r\n    this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor = this.curentTheme\r\n    this.darkTheme = JSON.parse(localStorage.getItem('darkTheme')!)\r\n    console.log(this.darkTheme, this.curentTheme)\r\n  }\r\n  ngAfterViewInit() {\r\n    this.darkTheme = JSON.parse(localStorage.getItem('darkTheme')!)\r\n    this.darkTheme ?\r\n      this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor = \"#3d3c3c\"\r\n      : this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor = '#fafbfc';\r\n  }\r\n}\r\n","<app-navbar (curentTheme)=\"receive($event)\"></app-navbar>\r\n<div class=\"confirm\"\r\n[ngClass]=\"{dark: darkTheme, 'confirm-light': !darkTheme }\">\r\n    <mat-icon>do_not_disturb</mat-icon>\r\n    <h3>{{ \"PaymentFailure.Wrong\" | translate }}</h3>\r\n    <h2>{{ \"PaymentFailure.BackTo\" | translate }}</h2>\r\n    <button routerLink=\"/order\">{{\"PaymentFailure.back\" | translate}}</button>\r\n</div>","import { CartService } from '../../core/services/cart.service';\r\nimport { ProductService } from 'src/app/core/services/product.service';\r\nimport { OrderService } from 'src/app/core/services/order.service';\r\nimport { Component, ElementRef, OnInit, AfterViewInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-payment-success',\r\n  templateUrl: './payment-success.component.html',\r\n  styleUrls: ['./payment-success.component.scss'],\r\n})\r\nexport class PaymentSuccessComponent implements OnInit, AfterViewInit {\r\n  cart!: any;\r\n  success= 0;\r\n  itemsProcessed=0;\r\n  darkTheme!: boolean;\r\n  curentTheme!: string;\r\n  constructor(\r\n    private elementRef: ElementRef,\r\n    private orderService: OrderService,\r\n    private productService: ProductService,\r\n    private router: Router,\r\n    private cartService: CartService\r\n  ) {}\r\n \r\n  ngOnInit(): void {\r\n    this.cart = JSON.parse(localStorage.getItem('cart') || '{}');\r\n    let order = Object();\r\n    let orderValue = 0;\r\n\r\n    order['orderDate'] = new Date();\r\n    order['orderedProducts'] = this.cart.products;\r\n    order['userId'] = this.cart.userId;\r\n    if (Object.keys(this.cart).length > 0) {\r\n      let productsIds = Object.keys(this.cart.products);\r\n      productsIds.forEach((element: string) =>\r\n        this.productService.getProduct(element)\r\n        .subscribe((res) => {\r\n          orderValue += res.price * this.cart.products[res.id];\r\n          order['orderValue'] = orderValue;\r\n          this.itemsProcessed++\r\n        },\r\n        (err:any)=>console.log(err),\r\n        ()=>{\r\n          if(this.itemsProcessed=== productsIds.length) {\r\n            this.orderService.postOrder(order).subscribe(\r\n              (response: Response) => {\r\n                setTimeout(() => {\r\n                  this.router.navigate(['/']);\r\n                }, 3000);\r\n                localStorage.removeItem('cart');\r\n                this.cartService.deleteCart(this.cart.id).subscribe();\r\n                this.cartService.update({});\r\n                this.success=1;\r\n              },\r\n              (error) => {\r\n                console.error(error);\r\n                this.success=2;\r\n              }\r\n            );\r\n          }\r\n        }),\r\n      );\r\n    }\r\n  }\r\n  receive(event: any) {\r\n    this.curentTheme = event\r\n    this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor = this.curentTheme\r\n    this.darkTheme = JSON.parse(localStorage.getItem('darkTheme')!)\r\n  }\r\n  ngAfterViewInit() {\r\n    this.darkTheme = JSON.parse(localStorage.getItem('darkTheme')!)\r\n    this.darkTheme ?\r\n      this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor = \"#3d3c3c\"\r\n      : this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor = '#fafbfc';\r\n  }\r\n}\r\n","<app-navbar  (curentTheme)=\"receive($event)\"></app-navbar>\r\n<div class=\"confirm\" [ngClass]=\"darkTheme ? 'dark': 'confirm-light'\" *ngIf=\"success==0\">\r\n    <h3>{{ \"PaymentSuccess.Pending\" | translate }}</h3>\r\n</div>\r\n<div class=\"confirm\" [ngClass]=\"darkTheme ? 'dark': 'confirm-light'\" *ngIf=\"success==1\">\r\n    <mat-icon>check_circle_outline</mat-icon>\r\n    <h3>{{ \"PaymentSuccess.Succes Order\" | translate }}</h3>\r\n    <h2>{{ \"PaymentSuccess.Thank you\" | translate }}</h2>\r\n</div>\r\n<div class=\"confirm red\" [ngClass]=\"darkTheme ? 'dark': 'confirm-light'\" *ngIf=\"success==2\">\r\n    <mat-icon>do_not_disturb</mat-icon>\r\n    <h3>{{ \"PaymentSuccess.Wrong\" | translate }}</h3>\r\n    <h2>{{ \"PaymentSuccess.BackTo\" | translate }}</h2>\r\n    <button routerLink=\"/order\">{{\"PaymentSuccess.back\" | translate}}</button>\r\n</div>","import { ProductService } from '../core/services/product.service';\r\nimport { Product } from '../core/models/product';\r\nimport { User } from 'src/app/core/models/user';\r\nimport { CartService } from '../core/services/cart.service';\r\nimport { OrderService } from '../core/services/order.service';\r\nimport { Component, ElementRef, OnInit, AfterViewInit, Inject } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { environment } from '../../environments/environment';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { cartBE } from '../core/models/cartBE';\r\n\r\n@Component({\r\n  selector: 'app-order',\r\n  templateUrl: './order.component.html',\r\n  styleUrls: ['./order.component.scss'],\r\n})\r\nexport class OrderComponent implements OnInit, AfterViewInit {\r\n  user!: User;\r\n  products: Product[] = [];\r\n  cart!: any;\r\n  orderValue = 0;\r\n  orderObject = Object();\r\n  currencies = ['EUR', 'USD', 'RON']\r\n  pay = Object();\r\n  payCurrency = 'EUR';\r\n  payPrice = 564;\r\n  paypalLogin = Object();\r\n  isHidden = false;\r\n  section = 1;\r\n  confirm = false;\r\n  address = true;\r\n  transportFee = environment.transportFee;\r\n  darkTheme!: boolean;\r\n  curentTheme!: string;\r\n  outOfStock = false;\r\n  outOfStockMsg!: string;\r\n  haveStock!: boolean;\r\n  productName!: string;\r\n\r\n\r\n  constructor(\r\n    private orderService: OrderService,\r\n    private router: Router,\r\n    private elementRef: ElementRef,\r\n    private cartService: CartService,\r\n    private productService: ProductService,\r\n    @Inject(DOCUMENT) private document: Document\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.user = JSON.parse(localStorage.getItem('user') || '{}');\r\n    this.cart = JSON.parse(localStorage.getItem('cart') || '{}');\r\n    this.darkTheme = JSON.parse(localStorage.getItem('darkTheme')!)\r\n    this.prepareOrder(this.cart)\r\n  }\r\n\r\n  prepareOrder(obj: cartBE) {\r\n    this.products = [];\r\n\r\n    if (Object.keys(obj).length > 0) {\r\n      let productsIds = Object.keys(obj.products);\r\n      productsIds.forEach((element: string) =>\r\n        this.productService.getProduct(element).subscribe((res) => {\r\n          let product = res;\r\n          product.qty = obj.products[res.id];\r\n          if (product.qty != 0) {\r\n            this.products.push(product);\r\n            this.orderValue += product.price * product.qty;\r\n            this.orderObject[product.id] = product.qty;\r\n          }\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  placeOrder() {\r\n    let order = Object();\r\n    this.outOfStock = false;\r\n    this.cart = JSON.parse(localStorage.getItem('cart') || '{}');\r\n    order['orderDate'] = new Date();\r\n    order['orderValue'] = this.orderValue;\r\n    order['orderedProducts'] = this.cart.products;\r\n    order['userId'] = this.user.id;\r\n\r\n    if (this.user.addressEntity.address != '' && this.user.addressEntity.city != '')\r\n      this.orderService.postOrder(order).subscribe(\r\n        (response: Response) => {\r\n          console.log(response);\r\n\r\n          setTimeout(() => {\r\n            this.router.navigate(['/']);\r\n          }, 3000);\r\n          localStorage.removeItem('cart');\r\n          this.cartService.deleteCart(this.cart.id).subscribe();\r\n          this.cartService.update({});\r\n          this.confirm = true;\r\n          this.outOfStock = false;\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n\r\n          if (error.status == 400) {\r\n            let localCart = JSON.parse(localStorage.getItem('cart') || '{}');\r\n            this.outOfStockMsg = error.error[0];\r\n            this.haveStock = true;\r\n            this.outOfStock = true;\r\n            for (let key in localCart.products) {\r\n              if (localCart.products[key] == 0) {\r\n                delete localCart.products[key];\r\n              }\r\n            }\r\n            localStorage.setItem('cart', JSON.stringify(localCart));\r\n            this.cart = JSON.parse(localStorage.getItem('cart') || '{}');\r\n            this.cartService.update(this.cart);\r\n            this.prepareOrder(this.cart);\r\n          }\r\n\r\n          if (error.status == 500 && error.error.substring(0, 15) === \"There are only:\") {\r\n            let wishedProducts = order.orderedProducts\r\n            let numberPattern = /\\d+/g;\r\n            let itemsInStock = parseInt(error.error.match(numberPattern)[0])\r\n            this.orderValue = 0;\r\n            this.outOfStock = true;\r\n            this.outOfStockMsg = error.error;\r\n            Object.entries(wishedProducts).forEach(\r\n              ([key, value]) => {\r\n                this.productService.getProduct(key).subscribe((res) => {\r\n                  if (res.itemsInStock <= itemsInStock) {\r\n                    order.orderedProducts[key] = res.itemsInStock;\r\n                    this.cart.products[key] = res.itemsInStock;\r\n                    if (res.itemsInStock == 0) {\r\n                      delete this.cart.products[key];\r\n                    }\r\n                    this.productName = res.name;\r\n                    localStorage.setItem('cart', JSON.stringify(this.cart));\r\n                    this.cartService.update(this.cart);\r\n                    this.prepareOrder(this.cart);\r\n                    res.itemsInStock != 0 ? this.haveStock = true : this.haveStock = false;\r\n                  }\r\n                })\r\n              }\r\n            );\r\n          }\r\n        }\r\n      );\r\n    else {\r\n      this.address = false;\r\n      this.confirm = true;\r\n      setTimeout(() => {\r\n        this.confirm = false;\r\n        this.router.navigate(['/account/details'])\r\n      }, 3000);\r\n    }\r\n  }\r\n  payPall() {\r\n    let pay = Object();\r\n    pay['currency'] = this.payCurrency;\r\n    pay['price'] = this.orderValue;\r\n    this.orderService.postPayPal(pay).subscribe(\r\n      (response: Response) => {\r\n        this.paypalLogin = response;\r\n        window.location.href = this.paypalLogin.link;\r\n      },\r\n      (error) => {\r\n        console.error(error);\r\n      }\r\n    )\r\n  }\r\n  ngAfterViewInit() {\r\n    this.darkTheme ?\r\n      this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor = \"#3d3c3c\"\r\n      : this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor = '#fafbfc';\r\n  }\r\n  changeSection(sect: any, event: any) {\r\n    this.section = sect;\r\n    event.stopPropagation();\r\n    this.darkTheme = JSON.parse(localStorage.getItem('darkTheme')!)\r\n  }\r\n  hidePaypal(currency: string) {\r\n    currency === \"RON\" ? this.isHidden = true : this.isHidden = false;\r\n    this.payCurrency = currency;\r\n  }\r\n  receive(event: any) {\r\n    this.curentTheme = event\r\n    this.elementRef.nativeElement.ownerDocument.body.style.backgroundColor = this.curentTheme\r\n    this.darkTheme = JSON.parse(localStorage.getItem('darkTheme')!)\r\n    console.log(this.darkTheme, this.curentTheme)\r\n  }\r\n  noContinue() {\r\n    this.router.navigate(['/cart']);\r\n    this.outOfStock = false;\r\n  }\r\n}\r\n","<app-navbar (curentTheme)=\"receive($event)\"></app-navbar>\r\n<div *ngIf=\"products.length != 0\" class=\"main\">\r\n  <div class=\"container mat-elevation-z2\">\r\n    <div\r\n      class=\"mat-elevation-z3 flex list\"\r\n      [ngClass]=\"{ current: section === 1, 'elevated-dark': darkTheme }\"\r\n      (click)=\"section = 1\"\r\n    >\r\n      <h2>{{ \"Order.Order review\" | translate }}</h2>\r\n      <div *ngFor=\"let product of products\" class=\"space-between\">\r\n        <div class=\"image-detail\">\r\n          <img src=\"{{ product.image }}\" alt=\"\" />\r\n          <p>{{ product.name.slice(0, 40) | titlecase }}</p>\r\n        </div>\r\n        <div>\r\n          <span class=\"price\">\r\n            {{ product.qty }} {{ \"Order.piece\" | translate }}\r\n          </span>\r\n          <span class=\"price\">\r\n            {{ (product.price * product.qty).toFixed(2) }} lei\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div></div>\r\n      <div class=\"actions distance-top\">\r\n        <mat-icon></mat-icon>\r\n        <button [routerLink]=\"'/cart'\">{{ \"Order.Modify\" | translate }}</button>\r\n        <mat-icon\r\n          (click)=\"changeSection(2, $event)\"\r\n          [style.visibility]=\"section == 1 ? 'visible' : 'hidden'\"\r\n          >forward</mat-icon\r\n        >\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"mat-elevation-z3 flex\"\r\n      [ngClass]=\"{ current: section === 2, 'elevated-dark': darkTheme }\"\r\n      (click)=\"section = 2\"\r\n    >\r\n      <h2>{{ \"Order.Shipping and billing\" | translate }}</h2>\r\n      <div class=\"flex-container\">\r\n        <div>\r\n          <div class=\"price\">{{ \"Order.Name\" | translate }}</div>\r\n          <div class=\"price\">\r\n            {{ \"Order.Shipping address\" | translate }}\r\n          </div>\r\n          <div class=\"price\">{{ \"Order.Contact phone\" | translate }}</div>\r\n        </div>\r\n        <div>\r\n          <div>{{ user.firstName }} {{ user.lastName }}</div>\r\n          <div *ngIf=\"user.addressEntity != null\">\r\n            {{ user.addressEntity.address }}, {{ user.addressEntity.city }}\r\n          </div>\r\n          <div *ngIf=\"user.addressEntity == null\">-</div>\r\n          <div>{{ user.telephone }}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"actions\">\r\n        <mat-icon\r\n          class=\"reverse\"\r\n          (click)=\"changeSection(1, $event)\"\r\n          [style.display]=\"section == 2 ? 'block' : 'none'\"\r\n          >forward</mat-icon\r\n        >\r\n        <button [routerLink]=\"'/account/details'\">\r\n          {{ \"Order.Modify\" | translate }}\r\n        </button>\r\n        <mat-icon\r\n          (click)=\"changeSection(3, $event)\"\r\n          [style.display]=\"section == 2 ? 'block' : 'none'\"\r\n          >forward</mat-icon\r\n        >\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"mat-elevation-z3 flex\"\r\n      [ngClass]=\"{ current: section === 3, 'elevated-dark': darkTheme }\"\r\n      (click)=\"section = 3\"\r\n    >\r\n      <h2>{{ \"Order.Confirm order\" | translate }}</h2>\r\n      <div class=\"space-between\">\r\n        <span class=\"price distance\">{{ \"Order.Products\" | translate }} </span>\r\n        <p>{{ orderValue.toFixed(2) }} lei</p>\r\n      </div>\r\n      <div class=\"space-between\">\r\n        <span class=\"price distance\">{{ \"Order.Shipping\" | translate }} </span\r\n        ><span>\r\n          {{\r\n            transportFee === 0\r\n              ? (\"Cart.Free\" | translate)\r\n              : transportFee + \" lei\"\r\n          }}\r\n        </span>\r\n      </div>\r\n      <h2></h2>\r\n      <div class=\"space-between\">\r\n        <span class=\"price distance bigger\">\r\n          {{ \"Order.Total value\" | translate }}</span\r\n        ><span class=\"bigger\">{{ orderValue.toFixed(2) }} lei</span>\r\n      </div>\r\n      <p class=\"payment-methode-title\">\r\n        {{ \"Order.Currency\" | translate }}\r\n      </p>\r\n      <div class=\"currency-container\">\r\n        <span class=\"currency\" *ngFor=\"let currency of currencies\">\r\n          <input\r\n            input\r\n            type=\"radio\"\r\n            id=\"{{ currency }}\"\r\n            name=\"currency\"\r\n            value=\"{{ currency }}\"\r\n            (click)=\"hidePaypal(currency)\"\r\n            [checked]=\"currency === 'EUR' ? true : false\"\r\n          />\r\n          <label for=\"{{ currency }}\">{{ currency }}</label>\r\n        </span>\r\n      </div>\r\n      <h3 class=\"payment-methode-title\">\r\n        {{ \"Order.Payment methode\" | translate }}\r\n      </h3>\r\n      <div class=\"actions\">\r\n        <mat-icon\r\n          class=\"reverse\"\r\n          (click)=\"changeSection(2, $event)\"\r\n          [style.visibility]=\"section == 3 ? 'visible' : 'hidden'\"\r\n          >forward</mat-icon\r\n        >\r\n        <button (click)=\"placeOrder()\">\r\n          {{ \"Order.Send Order\" | translate }}\r\n        </button>\r\n        <mat-icon></mat-icon>\r\n        <button (click)=\"payPall()\" class=\"paypal\" *ngIf=\"!isHidden\"></button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div\r\n    class=\"confirm green\"\r\n    [ngClass]=\"darkTheme ? 'dark' : 'confirm-light'\"\r\n    *ngIf=\"confirm == true && address\"\r\n  >\r\n    <mat-icon>check_circle_outline</mat-icon>\r\n    <h3>{{ \"Order.Succes Order\" | translate }}</h3>\r\n    <h2>{{ \"Order.Thank you\" | translate }}</h2>\r\n  </div>\r\n  <div\r\n    class=\"confirm red\"\r\n    [ngClass]=\"darkTheme ? 'dark' : 'confirm-light'\"\r\n    *ngIf=\"confirm == true && !address\"\r\n  >\r\n    <mat-icon>cancel</mat-icon>\r\n    <h3>{{ \"Order.noAddress\" | translate }}</h3>\r\n    <h2>{{ \"Order.register\" | translate }}</h2>\r\n  </div>\r\n  <div\r\n    class=\"confirm red out-of-stock\"\r\n    [ngClass]=\"darkTheme ? 'dark' : 'confirm-light'\"\r\n    *ngIf=\"outOfStock == true\"\r\n  >\r\n    <mat-icon>cancel</mat-icon>\r\n    <h3 style=\"color: #ff0000\" *ngIf=\"haveStock\">{{ outOfStockMsg }}</h3>\r\n    <h3 style=\"color: #ff0000\" *ngIf=\"!haveStock\">\r\n      {{ \"Order.This product:\" | translate }}\r\n      <span style=\"color: #ffa500\">\"{{ productName }}\"</span>\r\n      {{ \"Order.no longer\" | translate }}\r\n    </h3>\r\n    <h3>{{ \"Order.adjust\" | translate }}</h3>\r\n    <h3>{{ \"Order.continue\" | translate }}</h3>\r\n    <div class=\"buttons\">\r\n      <button (click)=\"noContinue()\">{{ \"Order.no\" | translate }}</button>\r\n      <button (click)=\"placeOrder()\">{{ \"Order.yes\" | translate }}</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"main container\" *ngIf=\"products.length == 0\">\r\n  {{ \"Order.Empty cart\" | translate }}\r\n</div>\r\n"],"sourceRoot":"webpack:///"}